I"1<h2>Djangoì„¤ì¹˜ ë° ê¸°ì´ˆìš´ìš©</h2>
<h3>Django ì„¤ì¹˜</h3>
<p>mac ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ìœ¼ë‹ˆ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. python ì‹¤í–‰ê²½ë¡œë¥¼ ê¼­! í™•ì¸í•´ ì£¼ì„¸ìš”.</p>

<p><code class="language-plaintext highlighter-rouge">pip</code>(python install package), <code class="language-plaintext highlighter-rouge">pypi</code>(python Package Index)ë¼ëŠ” repositoryì— ìˆëŠ” Djangoë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>

<h4>ê°€ìƒí™˜ê²½ì—ì„œ ì„¤ì¹˜</h4>
<p><u>ê°€ìƒí™˜ê²½</u>ì—ì„œ í•˜ì‹¤ë¶„ì€ í•˜ê¸° ë‚´ìš©ì„ ì¶”ê°€í•˜ì—¬ ì„¤ì¹˜í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>

<blockquote>
  <ol>
    <li>
      <p>ê°€ìƒí™˜ê²½(virtualenv) ì„¤ì¹˜ : <code class="language-plaintext highlighter-rouge">$ python3 -m venv posts</code></p>
    </li>
    <li>
      <p>ê°€ìƒí™˜ê²½ ì‹¤í–‰(virtualenv) : <code class="language-plaintext highlighter-rouge">$ source posts/bin/activate</code></p>
    </li>
    <li>
      <p>ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ í™•ì¸ : <code class="language-plaintext highlighter-rouge">$ pip3 freeze</code></p>
    </li>
  </ol>
</blockquote>

<h4>Django ì„¤ì¹˜</h4>
<p><u>ê°€ìƒí™˜ê²½ì´ ì•„ë‹Œ ë¡œì»¬</u>ì—ì„œ ì„¤ì¹˜í•˜ì‹¤ ë¶„ë“¤ì€ ì´ìª½ë¶€í„° ì§„í–‰ í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p>

<blockquote>
  <ol>
    <li>
      <p>Django ì„¤ì¹˜ : <code class="language-plaintext highlighter-rouge">'$ pip3 install django</code></p>
    </li>
    <li>
      <p>python 3.7.8ë²„ì „ì„ ì‚¬ìš©í•˜ì‹œëŠ” ë¶„ì€ pip3ë¥¼ updateë¥¼ í•´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.</p>
    </li>
    <li>
      <p>pip upgrade : <code class="language-plaintext highlighter-rouge">$ pip3 install --upgrade pip</code></p>
    </li>
    <li>
      <p>ì—¬ê¸°ê¹Œì§€ í•˜ì‹œë©´ ì„¤ì¹˜ê°€ ì™„ë£Œê°€ ë©ë‹ˆë‹¤.</p>
    </li>
  </ol>
</blockquote>

<h3> Project Setup </h3>
<p>ë³¸ê²©ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ì˜ ë¼ˆëŒ€ë¥¼ ë§Œë“œëŠ” ì¼ë¶€í„° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.</p>

<h4> í„°ë¯¸ë„ì—ì„œ ì„¤ì • </h4>
<blockquote>
  <ol>
    <li>
      <p>í´ë” ìƒì„± : <code class="language-plaintext highlighter-rouge">$ mkdir python-Django</code></p>
    </li>
    <li>
      <p>ë§Œë“¤ì–´ì§„ ê²½ë¡œë¡œ ì´ë™ : <code class="language-plaintext highlighter-rouge">$ cd python-Django</code></p>
    </li>
    <li>
      <p>mysite í”„ë¡œì íŠ¸ ìƒì„± ë° Scaffolding : <code class="language-plaintext highlighter-rouge">$ django-damin startproject mysite</code></p>
    </li>
    <li>
      <p>í´ë”ëª… ë³€ê²½(ì„ íƒì‚¬í•­) :python-Django/myself ì´ë¦„ì„ MyFirstWebPollë¡œ ë³€ê²½</p>
    </li>
    <li>
      <p>ë³€ê²½ëœ ê²½ë¡œë¡œ ì´ë™ : <code class="language-plaintext highlighter-rouge">$ cd MyFirstWebPoll</code></p>
    </li>
    <li>
      <p>í”„ë¡œì íŠ¸ ì•ˆì— ê°œë³„ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒì„± :<code class="language-plaintext highlighter-rouge">$ python3 manage.py startapp polls</code></p>
    </li>
    <li>
      <p>poll ì´ë¼ëŠ” ì–´í”Œì´ ìƒì„±ë˜ê³  í•„ìš”í•œ íŒŒì¼ë“¤ì´ scaffolding ë¨</p>
    </li>
  </ol>
</blockquote>

<h4> Python ì„¤ì •ë³€ê²½ [pycharm ì‚¬ìš©] </h4>

<blockquote>
  <ol>
    <li>
      <p>pycharmì—ì„œ MyFirstWebPoll í”„ë¡œì íŠ¸ ì‹¤í–‰</p>
    </li>
    <li>
      <p>setting.pyë¥¼ ì´ìš©í•´ í”„ë¡œì íŠ¸ ì„¤ì •ì²˜ë¦¬</p>
    </li>
    <li>
      <p>ê¸°ë³¸í…Œì´ë¸”(ê¸°ë³¸DB)ì„ ìƒì„±</p>
    </li>
    <li>
      <p>ì¥ê³ ëŠ” ê´€ë¦¬ì ëª¨ë“œ í™”ë©´ì„ ì œê³µ</p>
    </li>
    <li>
      <p>ê´€ë¦¬ì ID PWê°€ DBì–´ë”˜ê°€ì—ëŠ” ì €ì¥ì´ ë˜ì–´ ìˆì–´ì•¼í•¨ (DBì„¤ì •ì´ ì „ì œë¨)</p>
    </li>
    <li>
      <p>INSTALLED_APPS ë¦¬ìŠ¤íŠ¸ í•­ëª©ì— â€˜polls.apps.PollsConfigâ€™ ë¥¼ ì¶”ê°€</p>
    </li>
    <li>
      <p>TIME_ZONE â€˜Asia/Seoulâ€™ ë¡œ ë³€ê²½</p>
    </li>
  </ol>
</blockquote>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Application definition 
</span>
<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">'django.contrib.admin'</span><span class="p">,</span>
    <span class="s">'django.contrib.auth'</span><span class="p">,</span>
    <span class="s">'django.contrib.contenttypes'</span><span class="p">,</span>
    <span class="s">'django.contrib.sessions'</span><span class="p">,</span>
    <span class="s">'django.contrib.messages'</span><span class="p">,</span>
    <span class="s">'django.contrib.staticfiles'</span><span class="p">,</span>
    <span class="s">'polls.apps.PollsConfig'</span>
<span class="p">]</span>
</code></pre></div></div>
<p>â€¦</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Internationalization
# https://docs.djangoproject.com/en/3.0/topics/i18n/
</span>
<span class="n">LANGUAGE_CODE</span> <span class="o">=</span> <span class="s">'en-us'</span>

<span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s">'Asia/Seoul'</span>

<span class="n">USE_I18N</span> <span class="o">=</span> <span class="bp">True</span>

<span class="n">USE_L10N</span> <span class="o">=</span> <span class="bp">True</span>

<span class="n">USE_TZ</span> <span class="o">=</span> <span class="bp">True</span>
</code></pre></div></div>

<h4> í”„ë¡œì íŠ¸ Deploy</h4>
<blockquote>
  <ol>
    <li>
      <p>í„°ë¯¸ë„ì„ ì´ìš©í•´ì„œ ë‚´ì¥ ì„œë²„ë¥¼ ì´ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ <code class="language-plaintext highlighter-rouge">deploy</code> í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
    </li>
    <li>
      <p>í”„ë¡œì íŠ¸ migrate : <code class="language-plaintext highlighter-rouge">python3 manage.py migrate</code></p>
    </li>
    <li>
      <p>ì„œë²„ ì‹¤í–‰ : <code class="language-plaintext highlighter-rouge">python3 manage.py runserver</code></p>
    </li>
    <li>
      <p>ê´€ë¦¬ì ì„¤ì • : <code class="language-plaintext highlighter-rouge">python3 manage.py createsuperuser</code> #user, email, pw ì„¤ì •</p>
    </li>
    <li>
      <p>ì„œë²„ì‹¤í–‰ : <code class="language-plaintext highlighter-rouge">python3 manage.py runserver</code></p>
    </li>
    <li>
      <p><code>127.0.0.1:8000 ë¡œ ì ‘ì†</code></p>
    </li>
    <li>
      <p>Polls application êµ¬í˜„í™•ì¸</p>
    </li>
  </ol>
</blockquote>

<hr />

<h4> Model ìƒì„± </h4>
<p>Model ì‘ì—…ì€ ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” Databaseì— Tableì„ ìƒì„±í•˜ëŠ” ì‘ì—…ì´ì—ìš”!</p>

<p>(Table == Relation) ì¦‰ classì˜ ì´ë¦„ì€ ê²°êµ­ tableì˜ ì´ë¦„ê³¼ mappingì´ ë˜ìš”</p>

<p>application ì—ì„œ ì‚¬ìš©í•  ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ ìƒê°í•˜ê³  ì…ë ¥í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>

<p>models.py ì•ˆì— ëª¨ë“  ëª¨ë¸ë“¤ì„ ì •ì˜í•´ìš” !!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="c1"># Create your models here.
</span><span class="k">class</span> <span class="nc">Question</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span> <span class="c1"># Django ê°€ì œê³µí•˜ëŠ” models í´ë˜ìŠ¤
</span>    <span class="n">question_text</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>    <span class="c1">#ë¬¸ìì—´ì„ ë°›ê³  ê¸¸ì´ëŠ” 200ì ê¹Œì§€
</span>    <span class="n">pub_date</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="s">'date published'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>      <span class="c1"># ì¼ë°˜ì ìœ¼ë¡œ ì—°ì‚°ì„ ìœ„í•´ì„œ ë¬¸ìì—´ë¡œ ë³€í™˜ì„ í•˜ê³  ì‹¶ì„ë•Œ!
</span>        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">question_text</span>

<span class="k">class</span> <span class="nc">Choice</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c1"># question_id = models.ForeignKey(Question, on_delete=models.CASCADE)
</span>    <span class="c1"># ê¸°ë³¸ì ìœ¼ë¡œ _idê°€ ìë™ìœ¼ë¡œ ë¶™ìŒ
</span>    <span class="n">question</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Question</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="p">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="c1"># ë§Œì•½ì— Question ì— ëŒ€í•˜ì—¬ ì§€ìš´ë‹¤ë©´ ê°™ì´ ì§€ìš´ë‹¤ CASCADE ë¬¸ì œì—†ì´ ë§Œë“œëŠ” ê²ƒ
</span>
    <span class="n">choice_text</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
    <span class="n">votes</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">choice_text</span>

    <span class="c1"># def __repr__(self):     # class ì˜ ê°ì²´ë¥¼ ë¬¸ìì—´ë¡œ í‘œí˜„í•  ê²½ìš°ì— ì‚¬ìš©
</span>
    <span class="c1"># Tableì˜ id columnì€ defaultë¡œ ì§€ì •ë˜ìš”!!!
</span>    <span class="c1"># idê°€ primary keyë¡œ ì„¤ì •ì´ ê°€ëŠ¥!, Not null (ê°’ì´ ë¬´ì¡°ê±´ ë“¤ì–´ê°€ëŠ” ê²½ìš°), Unique (ê²¹ì¹˜ëŠ” ê°’ì´ ì•ˆì˜´)
</span>    <span class="c1"># idëŠ” autoincrement íŠ¹ì„±(ê°’ì´ ë“¤ì–´ì˜¤ë©´ ìë™ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” íŠ¹ì„±)ì„ ê°€ì§€ëŠ” ì •ìˆ˜í˜•ìœ¼ë¡œ ì§€ì •
</span>    <span class="c1"># ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ê¸° ë•Œë¬¸ì— classì •ì˜ì—ì„œ ë‚˜ì˜¤ì§€ ì•Šì•„ìš”!!
</span>
</code></pre></div></div>

<h4> model ë° íŒŒì¼ë“±ë¡ </h4>
<blockquote>
  <p>admin.py íŒŒì¼ì— ë“±ë¡í•´ìš”</p>
</blockquote>

<blockquote>
  <p>admin pageì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë“±ë¡ì„ í•´ì¤˜ì•¼í•´ìš”!!</p>
</blockquote>

<blockquote>
  <p>/polls/admin.py ì—ì„œ í•˜ê¸° ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.</p>
</blockquote>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">polls.models</span> <span class="kn">import</span> <span class="n">Question</span><span class="p">,</span> <span class="n">Choice</span>
<span class="c1"># Register your models here.
</span>
<span class="c1">#ê´„í˜¸ì•ˆì—ëŠ” ë‚´ê°€ ë“±ë¡í•  í´ë˜ìŠ¤ê°€ ë‚˜ì™€ì•¼í•´ìš”!
</span><span class="n">admin</span><span class="p">.</span><span class="n">site</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">Question</span><span class="p">)</span>
<span class="n">admin</span><span class="p">.</span><span class="n">site</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">Choice</span><span class="p">)</span>
</code></pre></div></div>

<p>ì—¬ê¸°ê¹Œì§€ëŠ” ì‘ì—…í–ˆë‹¤ê³ í•´ì„œ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ ìƒì„ ë˜ëŠ”ê±´ ì•„ë‹ˆì—ìš”!!</p>

<p>í•˜ê¸° ê³¼ì •ì„ í†µí•˜ì—¬ í‘œë¥¼ ì‚½ì…ì„ í•´ì¤˜ì•¼í•©ë‹ˆë‹¤.</p>

<blockquote>
  <p><code>python3 manage.py makemigrations</code></p>

  <blockquote>
    <p>classì™€ ë§¤í•‘ë˜ëŠ” í…Œì´ë¸”ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œ í•„ìš”í•œ SQL êµ¬ë¬¸ì„ ìƒì„±í•´ì•¼ ë˜ìš”!!</p>
  </blockquote>

  <p><code>python3 manage.py migrate</code></p>

  <blockquote>
    <p>ê·¸ë¦¬ê³  ë‚˜ì„œ ì´ êµ¬ë¬¸ì„ ì‹¤í–‰í•´ì„œ ì‹¤ì œ í…Œì´ë¸”ì„ ìƒì„±í•´ì•¼ í•´ìš”!</p>
  </blockquote>

  <p><code>python3 manage.py runserver</code></p>

  <blockquote>
    <p>í”„ë¡œì íŠ¸ê°€ webì— deploy ë  ìˆ˜ ìˆëŠ”ì§€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>

    <p>ê´€ë¦¬ì í˜ì´ì§€ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ì„œë²„ë¥¼ ê¸°ë™ !</p>
  </blockquote>
</blockquote>

<blockquote>

  <p><code>127.0.0.1:8000 ë¡œ ì ‘ì†</code></p>
</blockquote>

<p>ì™„ë£Œí•˜ë©´ í•˜ê¸° ê·¸ë¦¼ì²˜ëŸ¼ ì´ˆê¸° ì„¤ì • í™”ë©´ì€ ì–»ì„ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
<img src="/assets/image/Django project1.png" alt="Django project1" style="width:500px" /></p>
:ET