---
title:  "[Python] Pandas-2"
header:
  teaser: "/assets/image/1200px-Pandas_logo.svg.png"
categories: 
  - Python
tags:
  - Pandas
  - Json
---

## Pandas - 2

Pandas - 1에서는 전반적인 Pandas의 활용에 대하여 알아보았습니다. 이번시간에는 본격적으로 좀더 자세하게 알아보도록 하겠습니다.

Database안에 Table을 사용하는 방법이 크게 2가지가 있습니다. 

1. Django에서 사용했던 ORM방식 ( Model 을 이용해서 Table을 사용하는 방법)
    => SQL이라고 불리는 Database 언어를 몰라도 Table을 사용할 수 있습니다.
2. 일반적으로 SQL 구문을 이용해서 Database안의 Table을 사용합니다.
    => SQL 구문을 알아야 table에서 내가 원하는 데이터를 추출할 수 있습니다.

그렇다면 간단하게 SQL 구문을 알아보도록 하겠습니다.

``` python
import pymysql.cursors
import pandas as pd

# pymysql이라는 module을 이용해서 데이터 베이스에 연결

conn = pymysql.connect(host= 'localhost',
                      user = 'data',
                      password = 'data',
                      db='library',
                      charset='utf8')

# 데이터베이스에 접속되면 SQL문을 실행시켜서 Database로 부터
# 데이터를 가져온 후 이놈을 DataFrame으로 생성
# sql은 대소문자를 구분하지 않음
# WHERE 조건

# sql = 'SELECT btitle, bprice FROM book WHERE bprice >30000'

# 책 제목에 특정 키워드가 들어가 있는 책들만 골라오고 싶어요! (패턴매칭)
# sql = 'SELECT btitle, bprice FROM book WHERE btitle like "%java%"'
sql = 'SELECT btitle, bprice FROM book WHERE btitle like "%여행%"'

df = pd.read_sql(sql, con = conn)
display(df)
```

